<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="../../lib/streamhub-sdk/src/css/style.css">
    <!--<link rel="stylesheet" type="text/css" href="/src/css/themes.css">-->

    <script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <style>
        body { position: absolute; width: 100%; height: 100%; margin: 0; padding: 0; background-color: #EFEFEF; }
    </style>
</head>
    <body class="classic">
        
        <div id="view"></div>

        <script src="../../lib/requirejs/require.js" type="text/javascript"></script>
        <script src="/requirejs.conf.js" type="text/javascript"></script>
        <script>
            requirejs({
                baseUrl: "/"
            });
        </script>
        <script>
        require([
            'streamhub-sdk',
            'streamhub-gallery'
        ],function (Hub, GalleryView) {
            var opts = {
                "network": "labs-t402.fyre.co",
                "siteId": "303827",
                // Fast Collection
                // "articleId": "labs_demo_fire",
                "articleId": "sh_col_51_1366914813",
                "environment": "t402.livefyre.com"
            };

            var view = window.view = new GalleryView({
                el: document.getElementById("view")
                //,contentWidth: 300
                //,columns: 6
                //,modal: false
            });

            var livefyreStreams = Hub.StreamManager.create.livefyreStreams(opts)
            
            /* Uncomment to filter out content without attachments
            livefyreStreams.on('readable', function (stream) {
                var content = stream.read();
                // Add now if there are attachments
                if (content.attachments.length) {
                    return view.add(content);
                }
                // If no attachments yet, if one is added, then show in wall
                content.on('attachment', function () {
                    console.log('attach', content.attachments);
                    view.add(content);
                });
            });
            */

            livefyreStreams.bind(view);
            livefyreStreams.start();
        });
        </script>
    </body>
</html>
